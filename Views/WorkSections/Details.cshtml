@using System.Data;

@model System.Data.DataTable

@{
    ViewBag.Title = "Details";
}

<h3 class="alert alert-info text-center">@ViewBag.WorkSections To-Prep Items</h3>

<div class="d-flex flex-row-reverse mb-3">
    @Html.ActionLink("Served Items", "Create", null, new { @class = "btn btn-primary btn-lg" })
</div>
<table class="table table-striped table-hover text-center">
    <tr>
        @for (int i = 0; i < Model.Columns.Count-2; i++)
        {
            <th>
                @Model.Columns[i]
            </th>

        }
    </tr>

    @foreach (DataRow row in Model.Rows)
    {
        <tr>
            <td>
                @row["Table No."]
            </td>
            <td>
                @row["DishCode"]
            </td>
            <td>
                <a  onclick = "return confirm('Confirm to start preparing @row["DishCode"]?')", class="btn btn-@(Convert.ToString(row["Preparing"]) == "Yes"? "success" : "warning")" href="@Url.Action("PreparingItem", "WorkSections", new {ssn=row["SSN"], secID=row["SecID"]})">@row["Preparing"]</a>

            </td>
            <td>
                <a class="btn btn-@(Convert.ToString(row["Served"]) == "Yes"? "success" : "warning")" href="@Url.Action("ServedItem", "WorkSections", new {ssn=row["SSN"], secID=row["SecID"]})">@row["Served"]</a>

            </td>

        </tr>
    }

</table>